"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[177],{1513:function(t,e,i){i.d(e,{Z:function(){return u}});var a=i(6252),o=i(3577),s=i(4217);const r={id:"delete-button"},n=(0,a._)("img",{src:s,alt:"",class:"icon icon--small"},null,-1),l={key:0,class:"text--normal-w"};function d(t,e,i,s,d,m){return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("button",{onClick:e[0]||(e[0]=(...t)=>i.deleteThis&&i.deleteThis(...t)),class:"btn btn--bg_w btn--modify-delete"},[n,m.isLargeScreen?((0,a.wg)(),(0,a.iD)("span",l,(0,o.zw)(i.label),1)):(0,a.kq)("",!0)])])}var m={name:"DeleteButton",el:"#delete-button",props:{deleteThis:{type:Function},label:{type:String,default:"Supprimer"}},computed:{isLargeScreen(){return!!window.matchMedia("(min-width: 768px)").matches}}},p=i(3744);const c=(0,p.Z)(m,[["render",d]]);var u=c},3417:function(t,e,i){i.d(e,{Z:function(){return u}});var a=i(6252),o=i(3577),s=i(3562);const r={id:"modify-button"},n=(0,a._)("img",{src:s,alt:"",class:"icon icon--small"},null,-1),l={key:0,class:"text--normal-w"};function d(t,e,i,s,d,m){return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("button",{onClick:e[0]||(e[0]=(...t)=>i.modifyThis&&i.modifyThis(...t)),class:"btn btn--bg_w btn--modify-delete"},[n,m.isLargeScreen?((0,a.wg)(),(0,a.iD)("span",l,(0,o.zw)(i.label),1)):(0,a.kq)("",!0)])])}var m={name:"modifyButton",el:"#modify-button",props:{modifyThis:{type:Function},label:{type:String,default:"Modifier"}},computed:{isLargeScreen(){return!!window.matchMedia("(min-width: 768px)").matches}}},p=i(3744);const c=(0,p.Z)(m,[["render",d]]);var u=c},5128:function(t,e,i){i.d(e,{Z:function(){return _}});var a=i(6252),o=i(3577),s=i(9963);const r={id:"picture-ctn",class:"card-profile__img-ctn"},n=["src"],l={class:"card-profile__infos-ctn ctn--column"},d={class:"ctn ctn--flex-start"},m={class:"text--bold-w text--normal-f text--red-underline"},p={id:"firstName"},c={id:"lastName"},u={key:0,id:"email-ctn",class:"text--normal-w text--normal-f"},f={id:"position-ctn",class:"text--light text--normal-f text--bold-w"},w={id:"position"},b={id:"description-ctn",class:"text--black text--small-f"},g={id:"description"};function h(t,e,i,h,v,x){return(0,a.wg)(),(0,a.iD)("figure",{id:"cardprofile",class:(0,o.C_)(["card-profile",{cardProfilesView:x.isProfilesView}])},[(0,a._)("a",{href:"",class:"link text--normal-w text--normal-f ctn ctn--flex-start",onClick:e[0]||(e[0]=(0,s.iM)((e=>t.$emit("sendid",this.userId)),["prevent"]))},[(0,a._)("div",r,[(0,a._)("img",{src:i.profilePicURL,alt:"Profile Picture"},null,8,n)]),(0,a._)("div",l,[(0,a._)("div",d,[(0,a._)("div",m,[(0,a._)("span",p,(0,o.zw)(i.firstName+" "),1),(0,a._)("span",c,(0,o.zw)(i.lastName),1)])]),i.email?((0,a.wg)(),(0,a.iD)("div",u,(0,o.zw)(i.email),1)):(0,a.kq)("",!0),(0,a._)("div",f,[(0,a._)("p",w,(0,o.zw)(i.position),1)]),(0,a._)("div",b,[(0,a._)("p",g,(0,o.zw)(i.description),1)])])])],2)}var v={name:"CardProfile",el:"#cardprofile",props:{userId:{type:String,required:!0},profilePicURL:{type:String,default:"http://localhost:3000/images/user-solid.svg"},firstName:{type:String,required:!0},lastName:{type:String,required:!0},position:{type:String,default:"Travaille chez Groupomania"},description:{type:String,default:"✌️"},email:{type:String},computed:{}},data(){return{}},computed:{isProfilesView(){return"profiles"===this.$route.name}}},x=i(3744);const y=(0,x.Z)(v,[["render",h]]);var _=y},545:function(t,e,i){i.d(e,{Z:function(){return I}});var a=i(6252),o=i(9963),s=i(3577);const r={id:"formProfile",class:"form-profile ctn ctn--column"},n={class:"ctn ctn--column"},l={key:0,for:"upload-file",class:"btn text--btn text--center text--normal-w text--normal-f"},d={key:1,for:"upload-file",class:"btn text--btn text--center text--normal-w text--normal-f"},m=["src"],p={key:0,class:"text--error text--center text--normal-f text--bold-w"},c={class:"text--normal-f text--normal-w text--label ctn--column input-wrap"},u={for:"firstName"},f={key:0},w={class:"text--normal-f text--normal-w text--label ctn--column input-wrap"},b={for:"lastName"},g={key:0},h={class:"text--normal-f text--normal-w text--label ctn--column input-wrap"},v={for:"position"},x={key:0},y={class:"text--normal-f text--normal-w text--label ctn--column input-wrap textarea-wrap"},_={for:"description"},N={key:0};function k(t,e,i,k,P,S){const C=(0,a.up)("SubmitButton");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("form",{class:"ctn ctn--column ctn--space-between",enctype:"multipart/form-data",onSubmit:e[9]||(e[9]=(0,o.iM)((t=>S.updateProfile()),["prevent"])),onInput:e[10]||(e[10]=t=>S.submitValidation())},[(0,a._)("div",n,[P.imagePreview||i.oldImg?((0,a.wg)(),(0,a.iD)("label",d,"Changer l'image")):((0,a.wg)(),(0,a.iD)("label",l,"Ajouter une image")),(0,a._)("input",{class:"input-file",id:"upload-file",type:"file",accept:".jpg, .jpeg, .png",onChange:e[0]||(e[0]=t=>S.handleFileUpload(t))},null,32),(0,a._)("img",{src:P.imagePreview?P.imagePreview:i.oldImg,class:"img-preview-profile"},null,8,m)]),P.validator.file?((0,a.wg)(),(0,a.iD)("p",p," Fichiers autorisés : .jpg, .jpeg, .png, 5Mo maximum. ")):(0,a.kq)("",!0),(0,a._)("div",c,[(0,a._)("label",u,(0,s.zw)(P.label.firstName),1),(0,a.wy)((0,a._)("input",{class:"input text--normal-f text--light-w",id:"firstName",name:"firstName",type:"text",placeholder:"Jacques","onUpdate:modelValue":e[1]||(e[1]=t=>P.form.firstName=t),onInput:e[2]||(e[2]=t=>S.firstNameValidation())},null,544),[[o.nr,P.form.firstName]]),P.validator.fistName?((0,a.wg)(),(0,a.iD)("span",f,"Prénom invalide.")):(0,a.kq)("",!0)]),(0,a._)("div",w,[(0,a._)("label",b,(0,s.zw)(P.label.lastName),1),(0,a.wy)((0,a._)("input",{class:"input text--normal-f text--light-w",id:"lastName",name:"lastname",type:"text",placeholder:"Dupont","onUpdate:modelValue":e[3]||(e[3]=t=>P.form.lastName=t),onInput:e[4]||(e[4]=t=>S.lastNameValidation())},null,544),[[o.nr,P.form.lastName]]),P.validator.lastName?((0,a.wg)(),(0,a.iD)("span",g,"Nom invalide.")):(0,a.kq)("",!0)]),(0,a._)("div",h,[(0,a._)("label",v,(0,s.zw)(P.label.position),1),(0,a.wy)((0,a._)("input",{class:"input text--normal-f text--light-w",id:"position",name:"position",type:"text",placeholder:"Comptable","onUpdate:modelValue":e[5]||(e[5]=t=>P.form.position=t),onInput:e[6]||(e[6]=t=>S.positionValidation())},null,544),[[o.nr,P.form.position]]),P.validator.position?((0,a.wg)(),(0,a.iD)("span",x,"Nom de poste invalide.")):(0,a.kq)("",!0)]),(0,a._)("div",y,[(0,a._)("label",_,(0,s.zw)(P.label.description),1),(0,a.wy)((0,a._)("textarea",{class:"textarea text--normal-f text--light-w",id:"description",name:"description",type:"text",placeholder:"J'aime bien compter.","onUpdate:modelValue":e[7]||(e[7]=t=>P.form.description=t),onInput:e[8]||(e[8]=t=>S.descriptionValidation())},null,544),[[o.nr,P.form.description]]),P.validator.description?((0,a.wg)(),(0,a.iD)("span",N,"50 caractères maximum autorisés.")):(0,a.kq)("",!0)]),(0,a.Wm)(C,{class:"ctn",label:P.label.submit,disabled:P.disableSubmit},null,8,["label","disabled"])],32)])}var P=i(3403),S=i(8637),C=i(5844),D={name:"FormProfile",el:"#formProfile",components:{SubmitButton:P.Z},data(){return{label:{submit:"Mettre à jour",firstName:"Prénom",lastName:"Nom",position:"Poste",description:"Description"},form:{image:this.oldImg,firstName:this.oldFirstName,lastName:this.oldLastName,position:this.oldPosition,description:this.oldDescription},validator:{file:!1,firstName:!1,lastName:!1,position:!1,description:!1},disableSubmit:!0,imagePreview:void 0}},computed:{},methods:{firstNameValidation(){this.validator.firstName=(0,C.validateName)(this.form.firstName)},lastNameValidation(){this.validator.lastName=(0,C.validateName)(this.form.lastName)},positionValidation(){this.validator.position=(0,C.validateName)(this.form.position)},descriptionValidation(){this.validator.description=(0,C.validateDescription)(this.form.description)},submitValidation(){this.disableSubmit=(0,C.validateProfileForm)(this.validator,this.form,this.get_profile_status)},handleFileUpload(t){this.form.image=t.target.files[0],this.validator.file=(0,C.validateImage)(this.form.image),this.imagePreview=URL.createObjectURL(this.form.image)},...(0,S.nv)(["update_profile","get_profile_status"]),updateProfile(){this.update_profile({form:this.form,userId:this.$route.params.userId}).then((()=>{this.$emit("profileupdated")})).catch((t=>{console.log(t)}))}},props:{oldFirstName:{type:String,default:""},oldLastName:{type:String,default:""},oldPosition:{type:String,default:""},oldDescription:{type:String,default:""},oldImg:{type:String,default:void 0}}},V=i(3744);const q=(0,V.Z)(D,[["render",k]]);var I=q},4716:function(t,e,i){i.d(e,{Z:function(){return _}});var a=i(6252),o=i(9963);const s={id:"form-pwd"},r={key:0,class:"text--normal-f text--normal-w text--label ctn--column input-wrap"},n=(0,a._)("label",{for:"oldPassword"},"Ancien mot de passe",-1),l={class:"text--normal-f text--normal-w text--label ctn--column input-wrap"},d=(0,a._)("label",{for:"password"},"Nouveau mot de passe",-1),m={key:1,class:"text--center text--error text--small-f text--bold-w"},p={class:"text--normal-f text--normal-w text--label ctn--column input-wrap"},c=(0,a._)("label",{for:"passwordConf"},"Confirmez votre mot de passe",-1),u={key:2,class:"text--center text--error text--small-f text--bold-w"},f={key:1,class:"text--center text--normal-f text--bold-w"};function w(t,e,i,w,b,g){const h=(0,a.up)("SubmitButton");return(0,a.wg)(),(0,a.iD)("div",s,[b.success?((0,a.wg)(),(0,a.iD)("p",f," Mot de passe modifié avec succès ! ")):((0,a.wg)(),(0,a.iD)("form",{key:0,class:"ctn ctn--column ctn--space-between",onSubmit:e[5]||(e[5]=(0,o.iM)((t=>g.changePwd()),["prevent"])),onInput:e[6]||(e[6]=t=>g.submitValidation())},[g.isAdminRoute?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",r,[n,(0,a.wy)((0,a._)("input",{class:"input text--normal-f text--light-w",type:"password",id:"oldPassword",name:"oldPassword",autocomplete:"password",required:"","onUpdate:modelValue":e[0]||(e[0]=t=>b.form.oldPassword=t)},null,512),[[o.nr,b.form.oldPassword]])])),(0,a._)("div",l,[d,(0,a.wy)((0,a._)("input",{class:"input text--normal-f text--light-w",type:"password",id:"password",name:"password",autocomplete:"new-password",required:"","onUpdate:modelValue":e[1]||(e[1]=t=>b.form.password=t),onInput:e[2]||(e[2]=t=>g.passwordValidation())},null,544),[[o.nr,b.form.password]])]),b.validator.password?((0,a.wg)(),(0,a.iD)("p",m," Mot de passe invalide, doit contenir au moins 1 lettre majuscule, une miniscule, un chiffre, un caractère spécial et entre 8 et 16 caractères. ")):(0,a.kq)("",!0),(0,a._)("div",p,[c,(0,a.wy)((0,a._)("input",{class:"input text--normal-f text--light-w",type:"password",id:"passwordConf",name:"passwordConf",autocomplete:"new-password",required:"","onUpdate:modelValue":e[3]||(e[3]=t=>b.form.passwordConf=t),onInput:e[4]||(e[4]=t=>g.passwordConfValidation())},null,544),[[o.nr,b.form.passwordConf]])]),b.validator.passwordConf?((0,a.wg)(),(0,a.iD)("p",u," Mots de passe différents. ")):(0,a.kq)("",!0),(0,a.Wm)(h,{label:b.label.submit,disabled:b.disableSubmit},null,8,["label","disabled"])],32))])}var b=i(5844),g=i(3403),h=i(8637),v={name:"FormPwd",el:"#form-pwd",components:{SubmitButton:g.Z},data(){return{label:{submit:"Changer le mot de passe"},form:{oldPassword:"",password:"",passwordConf:""},validator:{password:!1,passwordConf:!1},disableSubmit:!0,success:!1}},computed:{isAdminRoute(){return"moderate-profile"===this.$route.name}},methods:{passwordValidation(){this.validator.password=(0,b.validatePassword)(this.form.password)},passwordConfValidation(){this.validator.passwordConf=(0,b.validatePasswordConf)(this.form.password,this.form.passwordConf)},submitValidation(){this.$store.getters.is_moderator?this.disableSubmit=(0,b.validateForm)(this.validator,{password:this.password,passwordConf:this.passwordConf}):this.disableSubmit=(0,b.validateForm)(this.validator,this.form)},...(0,h.nv)(["change_pwd"]),changePwd(){this.change_pwd(this.form).then((()=>{this.success=!0})).catch((()=>{this.success=!1}))}}},x=i(3744);const y=(0,x.Z)(v,[["render",w]]);var _=y},4217:function(t,e,i){t.exports=i.p+"img/delete.3f64b2f0.svg"},3562:function(t,e,i){t.exports=i.p+"img/modify.b8865c33.svg"}}]);
//# sourceMappingURL=177.638bd8b2.js.map